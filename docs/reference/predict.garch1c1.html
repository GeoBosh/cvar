<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Prediction for GARCH(1,1) time series — predict.garch1c1 • cvar</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Prediction for GARCH(1,1) time series — predict.garch1c1" />
<meta property="og:description" content="Predict GARCH(1,1) time series." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cvar</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/GeoBosh/cvar">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Prediction for GARCH(1,1) time series</h1>
    <small class="dont-index">Source: <a href='https://github.com/GeoBosh/cvar/blob/master/R/garch.R'><code>R/garch.R</code></a></small>
    <div class="hidden name"><code>predict.garch1c1.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Predict GARCH(1,1) time series.</p>
    </div>

    <pre class="usage"><span class='co'># S3 method for garch1c1</span>
<span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span>(<span class='no'>object</span>, <span class='kw'>n.ahead</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>Nsim</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='no'>eps</span>,
  <span class='no'>sigmasq</span>, <span class='kw'>seed</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>an object from class <code>"garch1c1"</code>.</p></td>
    </tr>
    <tr>
      <th>n.ahead</th>
      <td><p>maximum horizon (lead time) for prediction.</p></td>
    </tr>
    <tr>
      <th>Nsim</th>
      <td><p>number of Monte Carlo simulations for simulation based quantities.</p></td>
    </tr>
    <tr>
      <th>eps</th>
      <td><p>the time series to predict, only the last value is used.</p></td>
    </tr>
    <tr>
      <th>sigmasq</th>
      <td><p>the (squared) volatilities, only the last value is used.</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>an integer, seed for the random number generator.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>currently not used.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>an object from S3 class <code>"predict_garch1c1"</code> containing
    the following components:</p>
<dt>eps</dt><dd><p>point predictions (conditional expectations) of the time series (equal
    to zero for pure GARCH).</p></dd>
<dt>h</dt><dd><p>point predictions (conditional expectations)of the squared volatilities.</p></dd>
<dt>model</dt><dd><p>the model.</p></dd>
<dt>call</dt><dd><p>the call.</p></dd>
<dt>pi_plugin</dt><dd><p>Prediction intervals for the time series, based on plug-in
    distributions, see Details.</p></dd>
<dt>pi_sim</dt><dd><p>Simulation based prediction intervals for the time series, see Details.</p></dd>
<dt>dist_sim</dt><dd><p>simulation samples from the predictive distributions of the time
    series and the volatilties.</p></dd>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Plug-in prediction intervals and predictive distributions are obtained by
inserting the predicted volatility in the conditional densities. For
predictions more than one lag ahead these are not the real predictive
distributions but the prediction intervals are usually adequate.</p>
<p>For simulation prediction intervals we generate a (large) number of
continuations of the given time series. Prediction intervals can be based on
sample quantiles. The generated samples are stored in the returned object and
can be used for further exploration of the predictive
distributions. <code>dist_sim$eps</code> contains the simulated future values of
the time series and <code>dist_sim$h</code> the corresponding (squared)
volatilities.  Both are matrices whose <code>i</code>-th rows contain the predicted
quantities for horizon <code>i</code>.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>This function is under development and may be changed.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## set up a model and simulate a time series</span>
<span class='no'>mo</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='GarchModel.html'>GarchModel</a></span>(<span class='kw'>omega</span> <span class='kw'>=</span> <span class='fl'>0.4</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.3</span>, <span class='kw'>beta</span> <span class='kw'>=</span> <span class='fl'>0.5</span>)
<span class='no'>a1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='sim_garch1c1.html'>sim_garch1c1</a></span>(<span class='no'>mo</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='kw'>n.start</span> <span class='kw'>=</span> <span class='fl'>100</span>)

<span class='co'>## predictions for T+1,...,T+5 (T = time of last value)</span>
<span class='co'>## Nsim is small to reduce the load on CRAN, usually Nsim is larger.</span>
<span class='no'>a.pred</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span>(<span class='no'>mo</span>, <span class='kw'>n.ahead</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>Nsim</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='kw'>eps</span> <span class='kw'>=</span> <span class='no'>a1</span>$<span class='no'>eps</span>, <span class='kw'>sigmasq</span> <span class='kw'>=</span> <span class='no'>a1</span>$<span class='no'>h</span>, <span class='kw'>seed</span> <span class='kw'>=</span> <span class='fl'>1234</span>)

<span class='co'>## preditions for the time series</span>
<span class='no'>a.pred</span>$<span class='no'>eps</span></div><div class='output co'>#&gt; [1] 0 0 0 0 0</div><div class='input'>
<span class='co'>## PI's for eps - plug-in and simulated</span>
<span class='no'>a.pred</span>$<span class='no'>pi_plugin</span></div><div class='output co'>#&gt;            lwr      upr
#&gt; [1,] -2.547809 2.547809
#&gt; [2,] -2.594156 2.594156
#&gt; [3,] -2.630646 2.630646
#&gt; [4,] -2.659478 2.659478
#&gt; [5,] -2.682320 2.682320</div><div class='input'><span class='no'>a.pred</span>$<span class='no'>pi_sim</span></div><div class='output co'>#&gt;           2.5%    97.5%
#&gt; [1,] -2.509509 2.528883
#&gt; [2,] -2.716182 2.606704
#&gt; [3,] -2.454450 2.659976
#&gt; [4,] -2.570175 2.411107
#&gt; [5,] -2.665515 2.681679</div><div class='input'>
<span class='co'>## a DIY alculation of PI's using the simulated sample paths</span>
<span class='fu'><a href='https://rdrr.io/r/base/t.html'>t</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/apply.html'>apply</a></span>(<span class='no'>a.pred</span>$<span class='no'>dist_sim</span>$<span class='no'>eps</span>, <span class='fl'>1</span>, <span class='kw'>function</span>(<span class='no'>x</span>) <span class='fu'><a href='https://rdrr.io/r/stats/quantile.html'>quantile</a></span>(<span class='no'>x</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0.025</span>, <span class='fl'>0.975</span>))))</div><div class='output co'>#&gt;           2.5%    97.5%
#&gt; [1,] -2.509509 2.528883
#&gt; [2,] -2.716182 2.606704
#&gt; [3,] -2.454450 2.659976
#&gt; [4,] -2.570175 2.411107
#&gt; [5,] -2.665515 2.681679</div><div class='input'>
<span class='co'>## further investigate the predictive distributions</span>
<span class='fu'><a href='https://rdrr.io/r/base/t.html'>t</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/apply.html'>apply</a></span>(<span class='no'>a.pred</span>$<span class='no'>dist_sim</span>$<span class='no'>eps</span>, <span class='fl'>1</span>, <span class='kw'>function</span>(<span class='no'>x</span>) <span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>x</span>)))</div><div class='output co'>#&gt;           Min.    1st Qu.       Median         Mean   3rd Qu.     Max.
#&gt; [1,] -4.022824 -0.8580885 -0.066231428 -0.004927742 0.8906549 4.154436
#&gt; [2,] -6.917844 -0.8483323  0.056190554  0.012895781 0.9064100 4.410388
#&gt; [3,] -5.295914 -0.8656511 -0.015399238 -0.004549729 0.8250439 4.363216
#&gt; [4,] -3.839355 -0.8663160 -0.001722163 -0.029838411 0.7675387 4.277006
#&gt; [5,] -5.085697 -0.8380230 -0.019148043 -0.016343148 0.8035548 4.965683</div><div class='input'>
<span class='co'>## compare predictive densities for h=2 and h=5</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/density.html'>density</a></span>(<span class='no'>a.pred</span>$<span class='no'>dist_sim</span>$<span class='no'>eps</span>[<span class='fl'>2</span>, ]), <span class='kw'>ylim</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>.25</span>))</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/lines.html'>lines</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/density.html'>density</a></span>(<span class='no'>a.pred</span>$<span class='no'>dist_sim</span>$<span class='no'>eps</span>[<span class='fl'>5</span>, ]), <span class='kw'>col</span> <span class='kw'>=</span> <span class='st'>"blue"</span>)</div><div class='img'><img src='predict.garch1c1-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'>## predictions of sigma_t^2</span>
<span class='no'>a.pred</span>$<span class='no'>h</span></div><div class='output co'>#&gt; [1] 1.689808 1.751847 1.801477 1.841182 1.872945</div><div class='input'>
<span class='co'>## plug-in predictions of sigma_t</span>
<span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span>(<span class='no'>a.pred</span>$<span class='no'>h</span>)</div><div class='output co'>#&gt; [1] 1.299926 1.323573 1.342191 1.356902 1.368556</div><div class='input'>
<span class='co'>## simulation predictive densities of sigma_t for h = 2 and h = 5</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/density.html'>density</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span>(<span class='no'>a.pred</span>$<span class='no'>dist_sim</span>$<span class='no'>h</span>[<span class='fl'>2</span>, ])), <span class='kw'>xlim</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>, <span class='fl'>6</span>))</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/lines.html'>lines</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/density.html'>density</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span>(<span class='no'>a.pred</span>$<span class='no'>dist_sim</span>$<span class='no'>h</span>[<span class='fl'>5</span>, ])), <span class='kw'>col</span> <span class='kw'>=</span> <span class='st'>"blue"</span>)</div><div class='img'><img src='predict.garch1c1-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'>## VaR and ES for different horizons</span>
<span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>cbind</a></span>(<span class='kw'>h</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>5</span>,
      <span class='kw'>VaR</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/apply.html'>apply</a></span>(<span class='no'>a.pred</span>$<span class='no'>dist_sim</span>$<span class='no'>eps</span>, <span class='fl'>1</span>, <span class='kw'>function</span>(<span class='no'>x</span>) <span class='fu'><a href='VaR.html'>VaR</a></span>(<span class='no'>x</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0.05</span>))),
      <span class='kw'>ES</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/apply.html'>apply</a></span>(<span class='no'>a.pred</span>$<span class='no'>dist_sim</span>$<span class='no'>eps</span>, <span class='fl'>1</span>, <span class='kw'>function</span>(<span class='no'>x</span>) <span class='fu'><a href='ES.html'>ES</a></span>(<span class='no'>x</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0.05</span>))) )</div><div class='output co'>#&gt;      h      VaR       ES
#&gt; [1,] 1 2.130677 2.659668
#&gt; [2,] 2 2.122094 3.034189
#&gt; [3,] 3 2.140999 2.691499
#&gt; [4,] 4 2.092369 2.713634
#&gt; [5,] 5 2.176770 2.914153</div><div class='input'>
<span class='co'>## fit a GARCH(1,1) model to exchange rate data and predict</span>
<span class='no'>gmo1</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>fGarch</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/fGarch/man/garchFit.html'>garchFit</a></span>(<span class='kw'>formula</span> <span class='kw'>=</span> ~<span class='fu'>garch</span>(<span class='fl'>1</span>, <span class='fl'>1</span>), <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw pkg'>fGarch</span><span class='kw ns'>::</span><span class='no'><a href='https://rdrr.io/pkg/fGarch/man/data.html'>dem2gbp</a></span>,
  <span class='kw'>include.mean</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>cond.dist</span> <span class='kw'>=</span> <span class='st'>"norm"</span>, <span class='kw'>trace</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='no'>mocoef</span> <span class='kw'>&lt;-</span> <span class='no'>gmo1</span>@<span class='kw'>fit</span>$<span class='no'>par</span>
<span class='no'>mofitted</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='GarchModel.html'>GarchModel</a></span>(<span class='kw'>omega</span> <span class='kw'>=</span> <span class='no'>mocoef</span>[<span class='st'>"omega"</span>], <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='no'>mocoef</span>[<span class='st'>"alpha1"</span>],
  <span class='kw'>beta</span> <span class='kw'>=</span> <span class='no'>mocoef</span>[<span class='st'>"beta1"</span>])
<span class='no'>gmo1.pred</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span>(<span class='no'>mofitted</span>, <span class='kw'>n.ahead</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>Nsim</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='kw'>eps</span> <span class='kw'>=</span> <span class='no'>gmo1</span>@<span class='kw'>data</span>,
  <span class='kw'>sigmasq</span> <span class='kw'>=</span> <span class='no'>gmo1</span>@<span class='kw'>h.t</span>, <span class='kw'>seed</span> <span class='kw'>=</span> <span class='fl'>1234</span>)
<span class='no'>gmo1.pred</span>$<span class='no'>pi_plugin</span></div><div class='output co'>#&gt;             lwr       upr
#&gt; [1,] -0.7521380 0.7521380
#&gt; [2,] -0.7643149 0.7643149
#&gt; [3,] -0.7758111 0.7758111
#&gt; [4,] -0.7866764 0.7866764
#&gt; [5,] -0.7969554 0.7969554</div><div class='input'><span class='no'>gmo1.pred</span>$<span class='no'>pi_sim</span></div><div class='output co'>#&gt;            2.5%     97.5%
#&gt; [1,] -0.7408317 0.7465509
#&gt; [2,] -0.7687800 0.7601236
#&gt; [3,] -0.7630694 0.7760155
#&gt; [4,] -0.7538934 0.7209696
#&gt; [5,] -0.7779218 0.8050348</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#note">Note</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Georgi N. Boshnakov.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


