<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Predict GARCH(1,1) time series."><title>Prediction for GARCH(1,1) time series — predict.garch1c1 • cvar</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Prediction for GARCH(1,1) time series — predict.garch1c1"><meta property="og:description" content="Predict GARCH(1,1) time series."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">cvar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/GeoBosh/cvar/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Prediction for GARCH(1,1) time series</h1>
      <small class="dont-index">Source: <a href="https://github.com/GeoBosh/cvar/blob/HEAD/R/garch.R" class="external-link"><code>R/garch.R</code></a></small>
      <div class="d-none name"><code>predict.garch1c1.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Predict GARCH(1,1) time series.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for garch1c1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">object</span>, n.ahead <span class="op">=</span> <span class="fl">1</span>, Nsim <span class="op">=</span> <span class="fl">1000</span>, <span class="va">eps</span>, <span class="va">sigmasq</span>, seed <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>object</dt>
<dd><p>an object from class <code>"garch1c1"</code>.</p></dd>


<dt>n.ahead</dt>
<dd><p>maximum horizon (lead time) for prediction.</p></dd>


<dt>Nsim</dt>
<dd><p>number of Monte Carlo simulations for simulation based quantities.</p></dd>


<dt>eps</dt>
<dd><p>the time series to predict, only the last value is used.</p></dd>


<dt>sigmasq</dt>
<dd><p>the (squared) volatilities, only the last value is used.</p></dd>


<dt>seed</dt>
<dd><p>an integer, seed for the random number generator.</p></dd>


<dt>...</dt>
<dd><p>currently not used.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>an object from S3 class <code>"predict_garch1c1"</code> containing
    the following components:</p>
<dl><dt>eps</dt>
<dd><p>point predictions (conditional expectations) of the time series (equal
    to zero for pure GARCH).</p></dd>

<dt>h</dt>
<dd><p>point predictions (conditional expectations)of the squared volatilities.</p></dd>

<dt>model</dt>
<dd><p>the model.</p></dd>

<dt>call</dt>
<dd><p>the call.</p></dd>

<dt>pi_plugin</dt>
<dd><p>Prediction intervals for the time series, based on plug-in
    distributions, see Details.</p></dd>

<dt>pi_sim</dt>
<dd><p>Simulation based prediction intervals for the time series, see Details.</p></dd>

<dt>dist_sim</dt>
<dd><p>simulation samples from the predictive distributions of the time
    series and the volatilties.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Plug-in prediction intervals and predictive distributions are obtained by
inserting the predicted volatility in the conditional densities. For
predictions more than one lag ahead these are not the real predictive
distributions but the prediction intervals are usually adequate.</p>
<p>For simulation prediction intervals we generate a (large) number of
continuations of the given time series. Prediction intervals can be based on
sample quantiles. The generated samples are stored in the returned object and
can be used for further exploration of the predictive
distributions. <code>dist_sim$eps</code> contains the simulated future values of
the time series and <code>dist_sim$h</code> the corresponding (squared)
volatilities.  Both are matrices whose <code>i</code>-th rows contain the predicted
quantities for horizon <code>i</code>.</p>
<p>The random seed at the start of the simulations is saved in the returned
object.  A speficific seed can be requested with argument <code>seed</code>. In
that case the simulations are done with the specified seed and the old state
of the random number generator is restored before the function returns.
This setup is similar to <code><a href="sim_garch1c1.html">sim_garch1c1</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>This function is under development and may be changed.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">op</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## set up a model and simulate a time series</span></span></span>
<span class="r-in"><span><span class="va">mo</span> <span class="op">&lt;-</span> <span class="fu"><a href="GarchModel.html">GarchModel</a></span><span class="op">(</span>omega <span class="op">=</span> <span class="fl">0.4</span>, alpha <span class="op">=</span> <span class="fl">0.3</span>, beta <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">a1</span> <span class="op">&lt;-</span> <span class="fu"><a href="sim_garch1c1.html">sim_garch1c1</a></span><span class="op">(</span><span class="va">mo</span>, n <span class="op">=</span> <span class="fl">1000</span>, n.start <span class="op">=</span> <span class="fl">100</span>, seed <span class="op">=</span> <span class="fl">20220305</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## predictions for T+1,...,T+5 (T = time of last value)</span></span></span>
<span class="r-in"><span><span class="co">## Nsim is small to reduce the load on CRAN, usually Nsim is larger.</span></span></span>
<span class="r-in"><span><span class="va">a.pred</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">mo</span>, n.ahead <span class="op">=</span> <span class="fl">5</span>, Nsim <span class="op">=</span> <span class="fl">1000</span>, eps <span class="op">=</span> <span class="va">a1</span><span class="op">$</span><span class="va">eps</span>,</span></span>
<span class="r-in"><span>  sigmasq <span class="op">=</span> <span class="va">a1</span><span class="op">$</span><span class="va">h</span>, seed <span class="op">=</span> <span class="fl">1234</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## preditions for the time series</span></span></span>
<span class="r-in"><span><span class="va">a.pred</span><span class="op">$</span><span class="va">eps</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0 0 0 0 0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## PI's for eps - plug-in and simulated</span></span></span>
<span class="r-in"><span><span class="va">a.pred</span><span class="op">$</span><span class="va">pi_plugin</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         lwr   upr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] -2.484 2.484</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] -2.544 2.544</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] -2.591 2.591</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] -2.628 2.628</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] -2.658 2.658</span>
<span class="r-in"><span><span class="va">a.pred</span><span class="op">$</span><span class="va">pi_sim</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        2.5% 97.5%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] -2.447 2.465</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] -2.662 2.559</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] -2.426 2.624</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] -2.538 2.370</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] -2.645 2.637</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## a DIY calculation of PI's using the simulated sample paths</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">a.pred</span><span class="op">$</span><span class="va">dist_sim</span><span class="op">$</span><span class="va">eps</span>, <span class="fl">1</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.025</span>, <span class="fl">0.975</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        2.5% 97.5%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] -2.447 2.465</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] -2.662 2.559</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] -2.426 2.624</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] -2.538 2.370</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] -2.645 2.637</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## further investigate the predictive distributions</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">a.pred</span><span class="op">$</span><span class="va">dist_sim</span><span class="op">$</span><span class="va">eps</span>, <span class="fl">1</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        Min. 1st Qu.    Median      Mean 3rd Qu.  Max.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] -3.922 -0.8366 -0.064571 -0.004804  0.8683 4.050</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] -6.755 -0.8333  0.055137  0.012828  0.8895 4.320</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] -5.198 -0.8541 -0.015145 -0.004674  0.8138 4.290</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] -3.786 -0.8596 -0.001705 -0.029519  0.7609 4.241</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] -5.000 -0.8314 -0.019039 -0.016285  0.7956 4.860</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## compare predictive densities for horizons 2 and 5:</span></span></span>
<span class="r-in"><span><span class="va">h2</span> <span class="op">&lt;-</span> <span class="va">a.pred</span><span class="op">$</span><span class="va">dist_sim</span><span class="op">$</span><span class="va">eps</span><span class="op">[</span><span class="fl">2</span>, <span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">h5</span> <span class="op">&lt;-</span> <span class="va">a.pred</span><span class="op">$</span><span class="va">dist_sim</span><span class="op">$</span><span class="va">eps</span><span class="op">[</span><span class="fl">5</span>, <span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">main</span> <span class="op">&lt;-</span> <span class="st">"Predictive densities: horizons 2 (blue) and 5 (black)"</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html" class="external-link">density</a></span><span class="op">(</span><span class="va">h5</span><span class="op">)</span>, main <span class="op">=</span> <span class="va">main</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html" class="external-link">density</a></span><span class="op">(</span><span class="va">h2</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="predict.garch1c1-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## predictions of sigma_t^2</span></span></span>
<span class="r-in"><span><span class="va">a.pred</span><span class="op">$</span><span class="va">h</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.606 1.685 1.748 1.798 1.839</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## plug-in predictions of sigma_t</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">a.pred</span><span class="op">$</span><span class="va">h</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.267 1.298 1.322 1.341 1.356</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## simulation predictive densities (PD's) of sigma_t for horizons 2 and 5:</span></span></span>
<span class="r-in"><span><span class="va">h2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">a.pred</span><span class="op">$</span><span class="va">dist_sim</span><span class="op">$</span><span class="va">h</span><span class="op">[</span><span class="fl">2</span>, <span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">h5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">a.pred</span><span class="op">$</span><span class="va">dist_sim</span><span class="op">$</span><span class="va">h</span><span class="op">[</span><span class="fl">5</span>, <span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">main</span> <span class="op">&lt;-</span> <span class="st">"PD's of sigma_t for horizons 2 (blue) and 5 (black)"</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html" class="external-link">density</a></span><span class="op">(</span><span class="va">h2</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">"blue"</span>, main <span class="op">=</span> <span class="va">main</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html" class="external-link">density</a></span><span class="op">(</span><span class="va">h5</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="predict.garch1c1-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## VaR and ES for different horizons</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span>h <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,</span></span>
<span class="r-in"><span>      VaR <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">a.pred</span><span class="op">$</span><span class="va">dist_sim</span><span class="op">$</span><span class="va">eps</span>, <span class="fl">1</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="VaR.html">VaR</a></span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      ES <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">a.pred</span><span class="op">$</span><span class="va">dist_sim</span><span class="op">$</span><span class="va">eps</span>, <span class="fl">1</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="ES.html">ES</a></span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      h   VaR    ES</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 1 2.077 2.593</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 2 2.075 2.972</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 3 2.106 2.651</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 4 2.066 2.680</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 5 2.167 2.886</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## fit a GARCH(1,1) model to exchange rate data and predict</span></span></span>
<span class="r-in"><span><span class="va">gmo1</span> <span class="op">&lt;-</span> <span class="fu">fGarch</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/fGarch/man/garchFit.html" class="external-link">garchFit</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="op">~</span><span class="fu">garch</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, data <span class="op">=</span> <span class="fu">fGarch</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/fGarch/man/data.html" class="external-link">dem2gbp</a></span>,</span></span>
<span class="r-in"><span>  include.mean <span class="op">=</span> <span class="cn">FALSE</span>, cond.dist <span class="op">=</span> <span class="st">"norm"</span>, trace <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mocoef</span> <span class="op">&lt;-</span> <span class="va">gmo1</span><span class="op">@</span><span class="va">fit</span><span class="op">$</span><span class="va">par</span></span></span>
<span class="r-in"><span><span class="va">mofitted</span> <span class="op">&lt;-</span> <span class="fu"><a href="GarchModel.html">GarchModel</a></span><span class="op">(</span>omega <span class="op">=</span> <span class="va">mocoef</span><span class="op">[</span><span class="st">"omega"</span><span class="op">]</span>, alpha <span class="op">=</span> <span class="va">mocoef</span><span class="op">[</span><span class="st">"alpha1"</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>  beta <span class="op">=</span> <span class="va">mocoef</span><span class="op">[</span><span class="st">"beta1"</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gmo1.pred</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">mofitted</span>, n.ahead <span class="op">=</span> <span class="fl">5</span>, Nsim <span class="op">=</span> <span class="fl">1000</span>, eps <span class="op">=</span> <span class="va">gmo1</span><span class="op">@</span><span class="va">data</span>,</span></span>
<span class="r-in"><span>  sigmasq <span class="op">=</span> <span class="va">gmo1</span><span class="op">@</span><span class="va">h.t</span>, seed <span class="op">=</span> <span class="fl">1234</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gmo1.pred</span><span class="op">$</span><span class="va">pi_plugin</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          lwr    upr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] -0.7521 0.7521</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] -0.7643 0.7643</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] -0.7758 0.7758</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] -0.7867 0.7867</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] -0.7970 0.7970</span>
<span class="r-in"><span><span class="va">gmo1.pred</span><span class="op">$</span><span class="va">pi_sim</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         2.5%  97.5%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] -0.7408 0.7466</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] -0.7688 0.7601</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] -0.7631 0.7760</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] -0.7539 0.7210</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] -0.7779 0.8050</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">op</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="va">op</span><span class="op">)</span> <span class="co"># restore options(digits)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Georgi N. Boshnakov.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

